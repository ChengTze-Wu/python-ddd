class Inbox:
    ...


class Outbox:
    ...


class MessageBroker:
    ...


class InMemoryInbox(Inbox):
    ...


class InMemoryOutbox(Outbox):
    ...


class InMemoryMessageBroker(MessageBroker):
    ...
